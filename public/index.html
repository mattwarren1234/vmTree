<html>
<head>
  <meta charset="UTF-8"/>
  <title>Minimal BubbleTree Demo</title>
  <script src="https://code.jquery.com/jquery-1.5.2.min.js"></script>
  <script type="text/javascript" src="lib/jquery.history.js"></script>
  <script type="text/javascript" src="lib/raphael-min.js"></script>
  <script type="text/javascript" src="lib/tween.min.js"></script>

  <script type="text/javascript" src="lib/vis4.js"></script>
  <script type="text/javascript" src="lib/bubbletree.js"></script>
  <link rel="stylesheet" type="text/css" href="css/bubbletree.css" />  
  <script type="text/javascript">
 
    $(function () {

      function generateChildren(node) {
        var numChildren = 8;
        node.children = [];
        var amount = node.amount;
        for (var i=0; i<numChildren ; i++) {
            var child = { 
              label: 'Child #'+(i+1), 
              amount: i+1 < numChildren ? 
                amount*Math.random()*0.6 : amount
            };
            amount -= child.amount;
            node.children.push(child);
        }
      }
       
      var data = {
        label: "I am a node",
        amount: 1000000,
      };

      generateChildren(data);

      $.get('/api/categories', function(data){
        alert(data);
      });

      new BubbleTree({
        data: data,
        container: '.bubbletree'
      });
    });
</script></head>
<body>
  <div class="bubbletree-wrapper">
    <div class="bubbletree"></div>
  </div>
</body>
</html>